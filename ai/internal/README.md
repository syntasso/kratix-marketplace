# Development

## Build promise.yaml
The `promise.yaml` is generated by interpolating the contents of `resources/` into
the `dependencies`. To build run:

```
./scripts/inject-deps
```

## Pipeline image
To build the image:
```
./scripts/pipeline-image build
```

To load the image to the local kind platform cluster:
```
./scripts/pipeline-image load
```

To push the image to ghcr.io:
```
./scripts/pipeline-image push
```


## Testing
To test the promise install kratix, and then:
```
kubectl apply -f promise.yaml
./scripts/test promise
```

This asserts the Promise is installed correctly.

To test the resource request:
```
kubectl apply -f resource-request.yaml
./scripts/test resource-request
```
